2025-08-21T12:14:25.0851424Z ##[group]Run pytest -q
2025-08-21T12:14:25.0851685Z [36;1mpytest -q[0m
2025-08-21T12:14:25.0893124Z shell: /usr/bin/bash -e {0}
2025-08-21T12:14:25.0893343Z env:
2025-08-21T12:14:25.0894011Z   DATABASE_URL: ***localhost:5432/testdb
2025-08-21T12:14:25.0894377Z   EMBED_SPACE: bge-m3
2025-08-21T12:14:25.0894590Z   ENABLE_SERVER_EMBEDDING: 0
2025-08-21T12:14:25.0894860Z   pythonLocation: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-21T12:14:25.0895252Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.11.13/x64/lib/pkgconfig
2025-08-21T12:14:25.0895630Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-21T12:14:25.0896152Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-21T12:14:25.0896601Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-21T12:14:25.0896970Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.11.13/x64/lib
2025-08-21T12:14:25.0897245Z ##[endgroup]
2025-08-21T12:14:26.7681624Z 
2025-08-21T12:14:26.7682219Z ==================================== ERRORS ====================================
2025-08-21T12:14:26.7683141Z _____________ ERROR collecting docs/ci_pack/tests/test_urlcanon.py _____________
2025-08-21T12:14:26.7684613Z ImportError while importing test module '/home/runner/work/newspaper/newspaper/docs/ci_pack/tests/test_urlcanon.py'.
2025-08-21T12:14:26.7685746Z Hint: make sure your test modules/packages have valid Python names.
2025-08-21T12:14:26.7686363Z Traceback:
2025-08-21T12:14:26.7687027Z /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/importlib/__init__.py:126: in import_module
2025-08-21T12:14:26.7687657Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-21T12:14:26.7688029Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-21T12:14:26.7688350Z docs/ci_pack/tests/test_urlcanon.py:1: in <module>
2025-08-21T12:14:26.7688708Z     from scripts.ingest_rss import canonicalize_url
2025-08-21T12:14:26.7689059Z E   ModuleNotFoundError: No module named 'scripts'
2025-08-21T12:14:26.7689483Z _____________________ ERROR collecting tests/test_smoke.py _____________________
2025-08-21T12:14:26.7689866Z import file mismatch:
2025-08-21T12:14:26.7690152Z imported module 'test_smoke' has this __file__ attribute:
2025-08-21T12:14:26.7690638Z   /home/runner/work/newspaper/newspaper/docs/ci_pack/tests/test_smoke.py
2025-08-21T12:14:26.7691117Z which is not the same as the test file we want to collect:
2025-08-21T12:14:26.7691534Z   /home/runner/work/newspaper/newspaper/tests/test_smoke.py
2025-08-21T12:14:26.7692051Z HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
2025-08-21T12:14:26.7692609Z ___________________ ERROR collecting tests/test_urlcanon.py ____________________
2025-08-21T12:14:26.7693251Z ImportError while importing test module '/home/runner/work/newspaper/newspaper/tests/test_urlcanon.py'.
2025-08-21T12:14:26.7694042Z Hint: make sure your test modules/packages have valid Python names.
2025-08-21T12:14:26.7694401Z Traceback:
2025-08-21T12:14:26.7694831Z /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/importlib/__init__.py:126: in import_module
2025-08-21T12:14:26.7695424Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-21T12:14:26.7695797Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-21T12:14:26.7696100Z tests/test_urlcanon.py:1: in <module>
2025-08-21T12:14:26.7696420Z     from scripts.ingest_rss import canonicalize_url
2025-08-21T12:14:26.7696723Z E   ModuleNotFoundError: No module named 'scripts'
2025-08-21T12:14:26.7697023Z =========================== short test summary info ============================
2025-08-21T12:14:26.7697316Z ERROR docs/ci_pack/tests/test_urlcanon.py
2025-08-21T12:14:26.7697561Z ERROR tests/test_smoke.py
2025-08-21T12:14:26.7697762Z ERROR tests/test_urlcanon.py
2025-08-21T12:14:26.7698036Z !!!!!!!!!!!!!!!!!!! Interrupted: 3 errors during collection !!!!!!!!!!!!!!!!!!!!
2025-08-21T12:14:26.7698321Z 3 errors in 0.46s
2025-08-21T12:14:26.8096259Z ##[error]Process completed with exit code 2.
